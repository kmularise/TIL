# 캐시 메모리와 버퍼 메모리

<br><br>

## 캐시 메모리

> 속도가 빠른 장치(CPU)와 느린 장치(메인 메모리) 사이에서 속도 차이에 따른 병목 현상을 줄이기 위한 범용 메모리

<br><br>


![CPU, 캐시 메모리 및 메인 메모리 간의 관계.출처: Computer Organization and Architecture 10th Edition](https://github.com/user-attachments/assets/7e802176-f052-4ed6-9e90-98546bb93f9f)

- 자주 사용하는 데이터나 값을 복사해 놓는 임시 저장소
- 어떤 시스템 내에서 데이터의 집중적인 사용으로 인해 전체 시스템에 절대적인 영향을 미치는 부분의 사용 빈도가 늘어나 그 부분의 성능이 저하되어 전체 시스템이 마비되는 현상을 줄이기 위한 것
- 저장 공간이 작고 비용이 비싸지만 빠른 성능을 제공한다.

<br><br>

## 버퍼 메모리

> 데이터를 한 곳에서 다른 곳으로 전송하는 동안 일시적으로 그 데이터를 보관하는 메모리 영역

- 일시적으로 데이터를 보관하기 때문에 사용 후 데이터를 폐기한다.
- 주로 입출력 프로세스에서 사용된다. 운영체제는 메인메모리에 I/O 요청을 위해 버퍼를 할당한다.

<img width="604" alt="image" src="https://github.com/user-attachments/assets/8ff786bd-78a8-40c5-9a37-fd439c0a45bc">

- 디스크는 CPU와 비교가 안될 정도로 느리다.
- 가령 1개의 연산 데이터를 읽어서 CPU에 보낼 때, CPU는 100개의 데이터를 처리할 수 있어도 1개의 데이터를  처리할 수밖에 없다.
- CPU는 다른 작업을 수행하지 못하고 디스크 작업이 완료될 때까지 기다리게 된다. ➡️ 성능을 제대로 활용하지 못하고 연산 속도가 느려진다.
- 이때 버퍼를 두면, 디스크는 메모리에 지속적으로 1개씩 데이터를 전송하면서 보관할 수 있다.
- CPU는 데이터가 어느 정도 쌓일 때까지 다른 작업을 수행할 수 있다.

## 공통점

- **`임시 저장`**: 데이터를 임시로 저장한다.
    - 데이터의 일시적인 보관을 통해 성능 향상이나 데이터 일관성을 유지하는 데 도움이 된다.
- **`속도 조절`**: 두 장치 간의 속도 차이를 보상한다.
    - 캐시는 처리 속도를 최대한 올리기 위한 기술 ➡️ 빠른 속도의 장치를 보조한다. CPU가 메인 메모리에 액세스하는 시간을 절약한다.
    - 버퍼는 처리 속도가 떨어지는 것을 방지하는 기술 ➡️ 느린 속도의 장치를 보호힌다.

<br><br>

## 차이점
- 버퍼는 일반적으로 캐시에 비해 처리 크기가 크기 때문에 데이터를 저장할 수 없다. 한번의 연산이 끝나면 사용된 데이터는 폐기된다.
- 캐시는 캐시 메모리에 해당 데이터를 저장하여 계속 사용할 수 있다.
- 캐시는 작업 속도 증진을 위해 탄생했지만, 버퍼는 개별 작업들 간의 협동(무결성, 고속 장치의 기다림 등)을 지원하기 위해 존재한다.
- 캐시는 주로 읽기 부분에, 버퍼는 주로 쓰기 부분에 사용된다.
- 버퍼는 메모리에 있는 임시 저장소이고, 캐시는 CPU와 메모리 사이에 있는 임시 저장소이다.
