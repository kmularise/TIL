# 멀티 스레드

1. 멀티 스레드란 왜 필요할까요?
멀티 스레드가 필요한 이유로 크게 세가지가 있습니다.
첫째, 멀티 스레드로 멀티 코어 환경에서 여러 개의 작업을 물리적으로 동시에 실행시켜서 실행 속도를 줄일 수 있기 때문입니다.
둘째, 멀티 프로세스에 비해 컨텍스트 스위치 비용이 낮아 CPU 이용률을 높일 수 있습니다.
셋째, 멀티 프로세스는 프로세스를 생성할 때마다 스태틱 영역, 힙 영역, 스택 영역을 모두 메모리를 할당해야 하는 반면, 멀티 스레드는 스레드를 생성할 때마다 스택 영역만 할당하면 되기 때문에 메모리 낭비를 줄일 수 있습니다.

2. 멀티 스레드 프로그래밍 시에 고려해야할 점은 무엇인가요?
멀티 스레드 프로그래밍 고려 시 멀티 스레드를 실행시키고 병합하는데 따른 오버헤드와 공유변수 접근에 대한 데이터 레이스를 고려해서 멀티 스레드 프로그래밍을 해야 합니다.

3. Java에서 스레드 동기화를 위해 제공하는 방법으로 무엇이 있을까요?
스레드 동기화란 여러 스레드가 공유하는 자원의 일관성을 유지하기 위해 스레드간 실행 순서를 정해주는 것입니다. 우선 synchronized 키워드를 써서 적용되는 블록에 하나의 스레드만 접근하게끔 하여 스레드를 순차적으로 실행시키게 할 수 있습니다. 하지만 이를 너무 남발하면 성능저하를 유발할 수 있습니다. 메소드나 변수에 동기화를 하기 위해 block과 unblock 작업이 들어가기 때문입니다. wait()와 notify()를 통해 스레드 동기화를 제공할 수 있습니다. wait()가 호출되면 실행중이던 쓰레드는 대기하고, notify() 또는 notifyAll()을 호출하면 락을 얻은 쓰레드가 실행될 수 있습니다. 특정 쓰레드가 실행되지 못하고 계속 대기하는 기아(starvation) 현상이 발생할 수 있습니다. Lock과 Condition을 이용해서 동기화를 할 수 있습니다. 읽기를 위한 lock과 쓰기를 위한 lock이 제공되어, 읽기를 위한 lock이 걸려있으면 여러 스레드가 읽기를 수행할 수 있어 실행속도가 빨라지게 됩니다. 

