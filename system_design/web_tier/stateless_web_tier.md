# 무상태(stateless) 웹 계층
웹 계층을 수평적으로 확장(scale up)하기 위해 사용자 세션 데이터와 같은 상태 정보를 웹 계층에서 제거하여야 한다. 상태 정보를 관계형 데이터베이스나 NoSQL 같은 지속성 저장소에 보관하고 필요할 때 가져오도록 한다.
→ 이렇게 구성된 웹계층을 무상태 웹계층이라 한다.

## 상태 정보 의존적 아키텍처
* 서버는 클라이언트 정보, 즉 상태를 유지하여 요청들 사이에 공유되도록 한다.
* 이렇게 되면 같은 클라이언트로부터 요청은 항상 같은 서버로 전송되어야 한다. 
    * 로드밸런서가 이를 위해 고정 세션(sticky session)을 제공하고 있는데, 이는 로드밸런서에 부담을 준다.
    * 로드밸런서 뒷단에 서버를 추가하거나 제거하기 까다롭다. 서버의 장애를 처리하기 복잡해진다.

## 무상태 아키텍처
* 사용자로부터 HTTP 요청은 어떤 웹 서버로도 전달될 수 있다.
* 웹 서버는 상태 정보가 필요한 경우 공유 저장소(shared storage)로부터 데이터를 가져온다.
    * 상태 정보는 웹 서버로부터 물리적으로 분리되어 있다.
    * 공유 저장소는 관계형 데이터베이스이거나, Memcached/Redis 같은 캐시 시스템이거나 NoSQL일 수 있다.
        * NoSQL이 규모 확장이 간편하다.
* 단순하고 안정적이면 규모 확장이 쉽다.

* 자동 규모 확장(autoscaling) : 트래픽 양에 따라 웹 서버를 자동으로 추가하거나 삭제하는 기능
